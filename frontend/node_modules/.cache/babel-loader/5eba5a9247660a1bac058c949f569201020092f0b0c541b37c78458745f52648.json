{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rohit\\\\OneDrive\\\\Desktop\\\\MS OCU\\\\MS Project 2\\\\Quiz-Poll\\\\frontend\\\\src\\\\components\\\\professor\\\\QuizManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport api from \"../../services/api\";\nimport socketService from \"../../services/socket\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst QuizManagement = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [quizzes, setQuizzes] = useState([]);\n  const [classes, setClasses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showCopyModal, setShowCopyModal] = useState(false);\n  const [showAIModal, setShowAIModal] = useState(false);\n  const [selectedQuiz, setSelectedQuiz] = useState(null);\n  const [targetClassId, setTargetClassId] = useState(\"\");\n  const [selectedClassId, setSelectedClassId] = useState(\"\");\n  const [aiGenerating, setAiGenerating] = useState(false);\n  const [activatingQuiz, setActivatingQuiz] = useState(null); // Track which quiz is being activated/deactivated\n  const [aiForm, setAiForm] = useState({\n    topic: \"\",\n    numQuestions: 5,\n    difficulty: \"medium\"\n  });\n  const [quizForm, setQuizForm] = useState({\n    title: \"\",\n    description: \"\",\n    classId: \"\",\n    deadline: \"\",\n    questionTimeLimit: 30,\n    // Single time limit for ALL questions\n    questions: [{\n      questionText: \"\",\n      questionType: \"single_choice\",\n      points: 1,\n      options: [{\n        text: \"\",\n        isCorrect: false\n      }, {\n        text: \"\",\n        isCorrect: false\n      }]\n    }]\n  });\n  useEffect(() => {\n    socket.on(\"quizResultsUpdated\", data => {\n      if (quizzes.some(q => String(q.id) === String(data.quizId))) {\n        fetchQuizzes();\n      }\n    });\n    socket.on(\"quizActivated\", data => {\n      console.log(\"Quiz activated:\", data);\n      // Update local quiz state to reflect activation\n      setQuizzes(prev => prev.map(quiz => quiz.id === data.quizId ? {\n        ...quiz,\n        isLiveActive: true\n      } : quiz));\n    });\n    socket.on(\"quizDeactivated\", data => {\n      console.log(\"Quiz deactivated:\", data);\n      // Update local quiz state to reflect deactivation\n      setQuizzes(prev => prev.map(quiz => quiz.id === data.quizId ? {\n        ...quiz,\n        isLiveActive: false\n      } : quiz));\n    });\n    return () => {\n      socket.off(\"quizResultsUpdated\");\n      socket.off(\"quizActivated\");\n      socket.off(\"quizDeactivated\");\n    };\n  }, [quizzes]);\n  useEffect(() => {\n    fetchQuizzes();\n    fetchClasses();\n  }, []);\n  useEffect(() => {\n    if (selectedClassId) {\n      fetchQuizzes();\n    }\n  }, [selectedClassId]);\n  const fetchQuizzes = async () => {\n    try {\n      setLoading(true);\n      const params = selectedClassId ? `?classId=${selectedClassId}&sortBy=created_at&sortOrder=DESC` : \"?sortBy=created_at&sortOrder=DESC\";\n      const response = await api.get(`/quizzes${params}`);\n      setQuizzes(response.data.quizzes || []);\n      setError(\"\");\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to fetch quizzes\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchClasses = async () => {\n    try {\n      const response = await api.get(\"/classes\");\n      setClasses(response.data.classes || []);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Failed to fetch classes\");\n    }\n  };\n  const handleCreateQuiz = async e => {\n    e.preventDefault();\n    try {\n      if (!quizForm.title || !quizForm.classId) {\n        setError(\"Title and class are required\");\n        return;\n      }\n      if (quizForm.questions.length === 0) {\n        setError(\"At least one question is required\");\n        return;\n      }\n      for (let i = 0; i < quizForm.questions.length; i++) {\n        const question = quizForm.questions[i];\n        if (!question.questionText.trim()) {\n          setError(`Question ${i + 1} text is required`);\n          return;\n        }\n        if (question.options.length < 2) {\n          setError(`Question ${i + 1} must have at least 2 options`);\n          return;\n        }\n        if (!question.options.some(opt => opt.isCorrect)) {\n          setError(`Question ${i + 1} must have at least one correct answer`);\n          return;\n        }\n      }\n      if (!quizForm.questionTimeLimit || quizForm.questionTimeLimit < 5) {\n        setError(`Question time limit must be at least 5 seconds`);\n        return;\n      }\n      const response = await api.post(\"/quizzes\", {\n        title: quizForm.title,\n        description: quizForm.description,\n        classId: quizForm.classId,\n        deadline: quizForm.deadline || null,\n        questionTimeLimit: quizForm.questionTimeLimit,\n        questions: quizForm.questions\n      });\n      setShowCreateModal(false);\n      resetQuizForm();\n      fetchQuizzes();\n      alert(\"Quiz created successfully!\");\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || \"Failed to create quiz\");\n    }\n  };\n  const handleDeleteQuiz = async (quizId, quizTitle) => {\n    if (!window.confirm(`Are you sure you want to delete \"${quizTitle}\"?`)) {\n      return;\n    }\n    try {\n      await api.delete(`/quizzes/${quizId}`);\n      fetchQuizzes();\n      alert(\"Quiz deleted successfully!\");\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      alert(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || \"Failed to delete quiz\");\n    }\n  };\n  const handleCopyQuiz = async () => {\n    if (!selectedQuiz || !targetClassId) return;\n    try {\n      await api.post(`/quizzes/${selectedQuiz.id}/copy`, {\n        targetClassId\n      });\n      setShowCopyModal(false);\n      setTargetClassId(\"\");\n      setSelectedQuiz(null);\n      fetchQuizzes();\n      alert(\"Quiz copied successfully!\");\n    } catch (err) {\n      var _err$response5, _err$response5$data;\n      alert(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || \"Failed to copy quiz\");\n    }\n  };\n\n  // Quiz Activation/Deactivation Functions\n  const handleActivateQuiz = async quizId => {\n    try {\n      setActivatingQuiz(quizId);\n      await api.post(`/quizzes/${quizId}/activate`);\n\n      // Update local state\n      setQuizzes(prev => prev.map(quiz => quiz.id === quizId ? {\n        ...quiz,\n        isLiveActive: true\n      } : quiz));\n      console.log(`Quiz ${quizId} activated successfully`);\n    } catch (err) {\n      var _err$response6, _err$response6$data;\n      console.error('Failed to activate quiz:', err);\n      setError(((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.message) || 'Failed to activate quiz');\n    } finally {\n      setActivatingQuiz(null);\n    }\n  };\n  const handleDeactivateQuiz = async quizId => {\n    try {\n      setActivatingQuiz(quizId);\n      await api.post(`/quizzes/${quizId}/deactivate`);\n\n      // Update local state\n      setQuizzes(prev => prev.map(quiz => quiz.id === quizId ? {\n        ...quiz,\n        isLiveActive: false\n      } : quiz));\n      console.log(`Quiz ${quizId} deactivated successfully`);\n    } catch (err) {\n      var _err$response7, _err$response7$data;\n      console.error('Failed to deactivate quiz:', err);\n      setError(((_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : (_err$response7$data = _err$response7.data) === null || _err$response7$data === void 0 ? void 0 : _err$response7$data.message) || 'Failed to deactivate quiz');\n    } finally {\n      setActivatingQuiz(null);\n    }\n  };\n  const handleGenerateAI = async e => {\n    e.preventDefault();\n    try {\n      setAiGenerating(true);\n      setError(\"\");\n      if (!aiForm.topic.trim()) {\n        setError(\"Please enter a topic for AI generation\");\n        return;\n      }\n      const response = await api.post(\"/quizzes/generate-ai\", {\n        topic: aiForm.topic,\n        numQuestions: aiForm.numQuestions,\n        difficulty: aiForm.difficulty\n      });\n\n      // Add generated questions to the quiz form\n      setQuizForm({\n        ...quizForm,\n        questions: response.data.questions\n      });\n      setShowAIModal(false);\n      setShowCreateModal(true);\n      setAiForm({\n        topic: \"\",\n        numQuestions: 5,\n        difficulty: \"medium\"\n      });\n      alert(`Successfully generated ${response.data.questions.length} questions about \"${response.data.metadata.topic}\"!`);\n    } catch (err) {\n      var _err$response8, _err$response8$data;\n      setError(((_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : (_err$response8$data = _err$response8.data) === null || _err$response8$data === void 0 ? void 0 : _err$response8$data.message) || \"Failed to generate AI questions\");\n    } finally {\n      setAiGenerating(false);\n    }\n  };\n  const addQuestion = () => {\n    setQuizForm({\n      ...quizForm,\n      questions: [...quizForm.questions, {\n        questionText: \"\",\n        questionType: \"single_choice\",\n        points: 1,\n        options: [{\n          text: \"\",\n          isCorrect: false\n        }, {\n          text: \"\",\n          isCorrect: false\n        }]\n      }]\n    });\n  };\n  const removeQuestion = questionIndex => {\n    const newQuestions = quizForm.questions.filter((_, index) => index !== questionIndex);\n    setQuizForm({\n      ...quizForm,\n      questions: newQuestions\n    });\n  };\n  const updateQuestion = (questionIndex, field, value) => {\n    const newQuestions = [...quizForm.questions];\n    newQuestions[questionIndex][field] = value;\n    setQuizForm({\n      ...quizForm,\n      questions: newQuestions\n    });\n  };\n  const addOption = questionIndex => {\n    const newQuestions = [...quizForm.questions];\n    newQuestions[questionIndex].options.push({\n      text: \"\",\n      isCorrect: false\n    });\n    setQuizForm({\n      ...quizForm,\n      questions: newQuestions\n    });\n  };\n  const removeOption = (questionIndex, optionIndex) => {\n    const newQuestions = [...quizForm.questions];\n    newQuestions[questionIndex].options = newQuestions[questionIndex].options.filter((_, index) => index !== optionIndex);\n    setQuizForm({\n      ...quizForm,\n      questions: newQuestions\n    });\n  };\n  const updateOption = (questionIndex, optionIndex, field, value) => {\n    const newQuestions = [...quizForm.questions];\n    newQuestions[questionIndex].options[optionIndex][field] = value;\n    setQuizForm({\n      ...quizForm,\n      questions: newQuestions\n    });\n  };\n  const resetQuizForm = () => {\n    setQuizForm({\n      title: \"\",\n      description: \"\",\n      classId: \"\",\n      deadline: \"\",\n      questionTimeLimit: 30,\n      questions: [{\n        questionText: \"\",\n        questionType: \"single_choice\",\n        points: 1,\n        options: [{\n          text: \"\",\n          isCorrect: false\n        }, {\n          text: \"\",\n          isCorrect: false\n        }]\n      }]\n    });\n  };\n  const formatDate = dateString => {\n    if (!dateString) return \"No deadline\";\n    return new Date(dateString).toLocaleString();\n  };\n  const getStatusBadge = quiz => {\n    const now = new Date();\n    const deadline = quiz.deadline ? new Date(quiz.deadline) : null;\n    if (deadline && now > deadline) {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge bg-danger\",\n        children: \"Expired\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"badge bg-success\",\n      children: \"Active\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 12\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border text-primary\",\n          role: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Quiz Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-info me-2\",\n          onClick: () => setShowAIModal(true),\n          title: \"Generate quiz questions using AI\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-robot me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), \"AI Generate\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success me-2\",\n          onClick: () => setShowCreateModal(true),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-plus me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this), \"Create Quiz\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: fetchQuizzes,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-sync-alt me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), \"Refresh\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-select\",\n          value: selectedClassId,\n          onChange: e => setSelectedClassId(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Classes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this), classes.map(cls => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cls.id,\n            children: [cls.name, \" (\", cls.class_code, \")\"]\n          }, cls.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger alert-dismissible fade show\",\n      role: \"alert\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-exclamation-triangle me-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }, this), error, /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn-close\",\n        onClick: () => setError(\"\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 9\n    }, this), quizzes.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-info-circle me-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 11\n      }, this), \"No quizzes found. Create your first quiz to get started!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: [\"Your Quizzes (\", quizzes.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-striped\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Class\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Questions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Submissions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Deadline\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: quizzes.map(quiz => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fw-bold d-flex align-items-center\",\n                    children: [quiz.title, /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-sm btn-outline-warning ms-2\",\n                      title: \"Copy Quiz\",\n                      onClick: () => {\n                        setSelectedQuiz(quiz);\n                        setShowCopyModal(true);\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-copy me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 464,\n                        columnNumber: 29\n                      }, this), \"Copy\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: quiz.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge bg-light text-dark\",\n                    children: quiz.class_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: quiz.question_count || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: quiz.submission_count || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatDate(quiz.deadline)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: getStatusBadge(quiz)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"btn-group\",\n                    role: \"group\",\n                    children: [quiz.isLiveActive ? /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-sm btn-warning\",\n                      onClick: () => handleDeactivateQuiz(quiz.id),\n                      disabled: activatingQuiz === quiz.id,\n                      title: \"Deactivate Quiz - Students won't be able to attempt\",\n                      children: [activatingQuiz === quiz.id ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"spinner-border spinner-border-sm me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 490,\n                        columnNumber: 33\n                      }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-pause me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 492,\n                        columnNumber: 33\n                      }, this), \"Deactivate\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 483,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-sm btn-success\",\n                      onClick: () => handleActivateQuiz(quiz.id),\n                      disabled: activatingQuiz === quiz.id,\n                      title: \"Activate Quiz - Students will be able to attempt\",\n                      children: [activatingQuiz === quiz.id ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"spinner-border spinner-border-sm me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 504,\n                        columnNumber: 33\n                      }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-play me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 506,\n                        columnNumber: 33\n                      }, this), \"Activate\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: `/professor/quiz-results/${quiz.id}`,\n                      className: \"btn btn-sm btn-outline-primary\",\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-chart-bar me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 516,\n                        columnNumber: 29\n                      }, this), \"Results\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 512,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-sm btn-outline-danger\",\n                      onClick: () => handleDeleteQuiz(quiz.id, quiz.title),\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-trash me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 525,\n                        columnNumber: 29\n                      }, this), \"Delete\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 519,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 480,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 23\n                }, this)]\n              }, quiz.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 9\n    }, this), showCreateModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade show\",\n      style: {\n        display: \"block\",\n        backgroundColor: \"rgba(0,0,0,0.5)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog modal-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              children: \"Create New Quiz\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-close\",\n              onClick: () => setShowCreateModal(false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleCreateQuiz,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body\",\n              style: {\n                maxHeight: \"70vh\",\n                overflowY: \"auto\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: \"Quiz Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-6 mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      children: \"Title\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 565,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      value: quizForm.title,\n                      onChange: e => setQuizForm({\n                        ...quizForm,\n                        title: e.target.value\n                      }),\n                      required: true,\n                      placeholder: \"Enter quiz title\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 566,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 564,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-6 mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      children: \"Class\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 578,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      className: \"form-select\",\n                      value: quizForm.classId,\n                      onChange: e => setQuizForm({\n                        ...quizForm,\n                        classId: e.target.value\n                      }),\n                      required: true,\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: \"Select a class\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 590,\n                        columnNumber: 27\n                      }, this), classes.map(cls => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: cls.id,\n                        children: [cls.name, \" (\", cls.class_code, \")\"]\n                      }, cls.id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 592,\n                        columnNumber: 29\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 579,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 577,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-6 mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      children: \"Deadline (Optional)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 599,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"datetime-local\",\n                      className: \"form-control\",\n                      value: quizForm.deadline,\n                      onChange: e => setQuizForm({\n                        ...quizForm,\n                        deadline: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 602,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 598,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-6 mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      children: \"Question Time Limit (seconds)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 615,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      className: \"form-control\",\n                      value: quizForm.questionTimeLimit,\n                      onChange: e => {\n                        const value = e.target.value;\n                        const numValue = value === '' ? 30 : parseInt(value);\n                        setQuizForm({\n                          ...quizForm,\n                          questionTimeLimit: isNaN(numValue) ? 30 : numValue\n                        });\n                      },\n                      min: \"5\",\n                      max: \"300\",\n                      placeholder: \"Time per question in seconds\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 618,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: \"This time limit will apply to ALL questions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 634,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 614,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12 mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      children: \"Description\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 639,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      className: \"form-control\",\n                      rows: \"3\",\n                      value: quizForm.description,\n                      onChange: e => setQuizForm({\n                        ...quizForm,\n                        description: e.target.value\n                      }),\n                      placeholder: \"Enter quiz description (optional)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 640,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 638,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between align-items-center mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \"Questions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 659,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-sm btn-success\",\n                    onClick: addQuestion,\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-plus me-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 25\n                    }, this), \"Add Question\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 660,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 658,\n                  columnNumber: 21\n                }, this), quizForm.questions.map((question, questionIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-header\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex justify-content-between align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        className: \"mb-0\",\n                        children: [\"Question \", questionIndex + 1]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 674,\n                        columnNumber: 29\n                      }, this), quizForm.questions.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-sm btn-outline-danger\",\n                        onClick: () => removeQuestion(questionIndex),\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-trash\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 683,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 678,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 673,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 672,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-body\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-8\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \"form-label\",\n                          children: \"Question Text\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 691,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                          className: \"form-control\",\n                          rows: \"2\",\n                          value: question.questionText,\n                          onChange: e => updateQuestion(questionIndex, \"questionText\", e.target.value),\n                          required: true,\n                          placeholder: \"Enter your question\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 694,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 690,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \"form-label\",\n                          children: \"Points\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 710,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"number\",\n                          className: \"form-control\",\n                          value: question.points,\n                          onChange: e => updateQuestion(questionIndex, \"points\", parseInt(e.target.value)),\n                          min: \"1\",\n                          max: \"10\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 711,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 709,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 689,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"d-flex justify-content-between align-items-center mb-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \"form-label\",\n                          children: \"Answer Options\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 730,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"btn btn-sm btn-outline-success\",\n                          onClick: () => addOption(questionIndex),\n                          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fas fa-plus me-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 738,\n                            columnNumber: 33\n                          }, this), \"Add Option\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 733,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 729,\n                        columnNumber: 29\n                      }, this), question.options.map((option, optionIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"input-group mb-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"input-group-text\",\n                          children: /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"checkbox\",\n                            checked: option.isCorrect,\n                            onChange: e => updateOption(questionIndex, optionIndex, \"isCorrect\", e.target.checked),\n                            title: \"Mark as correct answer\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 749,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 748,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          className: \"form-control\",\n                          value: option.text,\n                          onChange: e => updateOption(questionIndex, optionIndex, \"text\", e.target.value),\n                          placeholder: `Option ${optionIndex + 1}`,\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 763,\n                          columnNumber: 33\n                        }, this), question.options.length > 2 && /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"btn btn-outline-danger\",\n                          onClick: () => removeOption(questionIndex, optionIndex),\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fas fa-trash\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 786,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 779,\n                          columnNumber: 35\n                        }, this)]\n                      }, optionIndex, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 744,\n                        columnNumber: 31\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 728,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 688,\n                    columnNumber: 25\n                  }, this)]\n                }, questionIndex, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 671,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => setShowCreateModal(false),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 798,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"Create Quiz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 805,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 797,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 9\n    }, this), showCopyModal && selectedQuiz && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade show\",\n      style: {\n        display: \"block\",\n        backgroundColor: \"rgba(0,0,0,0.5)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              children: [\"Copy Quiz - \", selectedQuiz.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-close\",\n              onClick: () => setShowCopyModal(false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 823,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Select target class:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 834,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              value: targetClassId,\n              onChange: e => setTargetClassId(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select a class\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 840,\n                columnNumber: 19\n              }, this), classes.map(cls => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: cls.id,\n                children: [cls.name, \" (\", cls.class_code, \")\"]\n              }, cls.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 842,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 835,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: () => setShowCopyModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary\",\n              onClick: handleCopyQuiz,\n              disabled: !targetClassId,\n              children: \"Copy Quiz\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 848,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 822,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 821,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 817,\n      columnNumber: 9\n    }, this), showAIModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade show\",\n      style: {\n        display: \"block\",\n        backgroundColor: \"rgba(0,0,0,0.5)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-robot me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 880,\n                columnNumber: 19\n              }, this), \"AI Quiz Generation\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 879,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-close\",\n              onClick: () => setShowAIModal(false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 878,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleGenerateAI,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-info-circle me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 892,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"AI Quiz Generator:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 893,\n                  columnNumber: 21\n                }, this), \" Enter a topic and let AI create quiz questions for you automatically!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 891,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-lightbulb me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 898,\n                    columnNumber: 23\n                  }, this), \"Topic\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 897,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  value: aiForm.topic,\n                  onChange: e => setAiForm({\n                    ...aiForm,\n                    topic: e.target.value\n                  }),\n                  placeholder: \"e.g., JavaScript fundamentals, World History, Biology...\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 901,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: \"Be specific for better results (e.g., \\\"React Hooks\\\" instead of just \\\"React\\\")\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 911,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 896,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6 mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-list-ol me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 919,\n                      columnNumber: 25\n                    }, this), \"Number of Questions\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 918,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: \"form-select\",\n                    value: aiForm.numQuestions,\n                    onChange: e => setAiForm({\n                      ...aiForm,\n                      numQuestions: parseInt(e.target.value)\n                    }),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: 3,\n                      children: \"3 Questions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 932,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: 5,\n                      children: \"5 Questions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 933,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: 10,\n                      children: \"10 Questions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 934,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: 15,\n                      children: \"15 Questions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 935,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: 20,\n                      children: \"20 Questions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 936,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 922,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 917,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6 mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-chart-line me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 942,\n                      columnNumber: 25\n                    }, this), \"Difficulty Level\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 941,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: \"form-select\",\n                    value: aiForm.difficulty,\n                    onChange: e => setAiForm({\n                      ...aiForm,\n                      difficulty: e.target.value\n                    }),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"easy\",\n                      children: \"Easy\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 952,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"medium\",\n                      children: \"Medium\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 953,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"hard\",\n                      children: \"Hard\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 954,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 945,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 940,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 916,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-warning\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-exclamation-triangle me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 960,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Note:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 961,\n                  columnNumber: 21\n                }, this), \" AI-generated questions will replace any existing questions in your quiz form. Review and edit them before saving.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 959,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => setShowAIModal(false),\n                disabled: aiGenerating,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 965,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-info\",\n                disabled: aiGenerating || !aiForm.topic.trim(),\n                children: aiGenerating ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"spinner-border spinner-border-sm me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 980,\n                    columnNumber: 25\n                  }, this), \"Generating...\"]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-magic me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 985,\n                    columnNumber: 25\n                  }, this), \"Generate Questions\"]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 973,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 964,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 889,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 876,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 872,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 366,\n    columnNumber: 5\n  }, this);\n};\n_s(QuizManagement, \"O/djaRVrKilKnmTkPkqYyiucPCQ=\", false, function () {\n  return [useAuth];\n});\n_c = QuizManagement;\nexport default QuizManagement;\nvar _c;\n$RefreshReg$(_c, \"QuizManagement\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","api","socketService","jsxDEV","_jsxDEV","Fragment","_Fragment","QuizManagement","_s","user","quizzes","setQuizzes","classes","setClasses","loading","setLoading","error","setError","showCreateModal","setShowCreateModal","showCopyModal","setShowCopyModal","showAIModal","setShowAIModal","selectedQuiz","setSelectedQuiz","targetClassId","setTargetClassId","selectedClassId","setSelectedClassId","aiGenerating","setAiGenerating","activatingQuiz","setActivatingQuiz","aiForm","setAiForm","topic","numQuestions","difficulty","quizForm","setQuizForm","title","description","classId","deadline","questionTimeLimit","questions","questionText","questionType","points","options","text","isCorrect","socket","on","data","some","q","String","id","quizId","fetchQuizzes","console","log","prev","map","quiz","isLiveActive","off","fetchClasses","params","response","get","err","_err$response","_err$response$data","message","_err$response2","_err$response2$data","handleCreateQuiz","e","preventDefault","length","i","question","trim","opt","post","resetQuizForm","alert","_err$response3","_err$response3$data","handleDeleteQuiz","quizTitle","window","confirm","delete","_err$response4","_err$response4$data","handleCopyQuiz","_err$response5","_err$response5$data","handleActivateQuiz","_err$response6","_err$response6$data","handleDeactivateQuiz","_err$response7","_err$response7$data","handleGenerateAI","metadata","_err$response8","_err$response8$data","addQuestion","removeQuestion","questionIndex","newQuestions","filter","_","index","updateQuestion","field","value","addOption","push","removeOption","optionIndex","updateOption","formatDate","dateString","Date","toLocaleString","getStatusBadge","now","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","onChange","target","cls","name","class_code","type","class_name","question_count","submission_count","disabled","href","style","display","backgroundColor","onSubmit","maxHeight","overflowY","required","placeholder","numValue","parseInt","isNaN","min","max","rows","option","checked","_c","$RefreshReg$"],"sources":["C:/Users/rohit/OneDrive/Desktop/MS OCU/MS Project 2/Quiz-Poll/frontend/src/components/professor/QuizManagement.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../../context/AuthContext\";\r\nimport api from \"../../services/api\";\r\nimport socketService from \"../../services/socket\";\r\n\r\nconst QuizManagement = () => {\r\n  const { user } = useAuth();\r\n  const [quizzes, setQuizzes] = useState([]);\r\n  const [classes, setClasses] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showCopyModal, setShowCopyModal] = useState(false);\r\n  const [showAIModal, setShowAIModal] = useState(false);\r\n  const [selectedQuiz, setSelectedQuiz] = useState(null);\r\n  const [targetClassId, setTargetClassId] = useState(\"\");\r\n  const [selectedClassId, setSelectedClassId] = useState(\"\");\r\n  const [aiGenerating, setAiGenerating] = useState(false);\r\n  const [activatingQuiz, setActivatingQuiz] = useState(null); // Track which quiz is being activated/deactivated\r\n  const [aiForm, setAiForm] = useState({\r\n    topic: \"\",\r\n    numQuestions: 5,\r\n    difficulty: \"medium\"\r\n  });\r\n  const [quizForm, setQuizForm] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    classId: \"\",\r\n    deadline: \"\",\r\n    questionTimeLimit: 30, // Single time limit for ALL questions\r\n    questions: [\r\n      {\r\n        questionText: \"\",\r\n        questionType: \"single_choice\",\r\n        points: 1,\r\n        options: [\r\n          { text: \"\", isCorrect: false },\r\n          { text: \"\", isCorrect: false },\r\n        ],\r\n      },\r\n    ],\r\n  });\r\n\r\n  useEffect(() => {\r\n    socket.on(\"quizResultsUpdated\", (data) => {\r\n      if (quizzes.some((q) => String(q.id) === String(data.quizId))) {\r\n        fetchQuizzes();\r\n      }\r\n    });\r\n\r\n    socket.on(\"quizActivated\", (data) => {\r\n      console.log(\"Quiz activated:\", data);\r\n      // Update local quiz state to reflect activation\r\n      setQuizzes(prev => prev.map(quiz => \r\n        quiz.id === data.quizId \r\n          ? { ...quiz, isLiveActive: true }\r\n          : quiz\r\n      ));\r\n    });\r\n\r\n    socket.on(\"quizDeactivated\", (data) => {\r\n      console.log(\"Quiz deactivated:\", data);\r\n      // Update local quiz state to reflect deactivation\r\n      setQuizzes(prev => prev.map(quiz => \r\n        quiz.id === data.quizId \r\n          ? { ...quiz, isLiveActive: false }\r\n          : quiz\r\n      ));\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"quizResultsUpdated\");\r\n      socket.off(\"quizActivated\");\r\n      socket.off(\"quizDeactivated\");\r\n    };\r\n  }, [quizzes]);\r\n\r\n  useEffect(() => {\r\n    fetchQuizzes();\r\n    fetchClasses();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedClassId) {\r\n      fetchQuizzes();\r\n    }\r\n  }, [selectedClassId]);\r\n\r\n  const fetchQuizzes = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = selectedClassId\r\n        ? `?classId=${selectedClassId}&sortBy=created_at&sortOrder=DESC`\r\n        : \"?sortBy=created_at&sortOrder=DESC\";\r\n      const response = await api.get(`/quizzes${params}`);\r\n      setQuizzes(response.data.quizzes || []);\r\n      setError(\"\");\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Failed to fetch quizzes\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchClasses = async () => {\r\n    try {\r\n      const response = await api.get(\"/classes\");\r\n      setClasses(response.data.classes || []);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Failed to fetch classes\");\r\n    }\r\n  };\r\n\r\n  const handleCreateQuiz = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (!quizForm.title || !quizForm.classId) {\r\n        setError(\"Title and class are required\");\r\n        return;\r\n      }\r\n      if (quizForm.questions.length === 0) {\r\n        setError(\"At least one question is required\");\r\n        return;\r\n      }\r\n      for (let i = 0; i < quizForm.questions.length; i++) {\r\n        const question = quizForm.questions[i];\r\n        if (!question.questionText.trim()) {\r\n          setError(`Question ${i + 1} text is required`);\r\n          return;\r\n        }\r\n        if (question.options.length < 2) {\r\n          setError(`Question ${i + 1} must have at least 2 options`);\r\n          return;\r\n        }\r\n        if (!question.options.some((opt) => opt.isCorrect)) {\r\n          setError(`Question ${i + 1} must have at least one correct answer`);\r\n          return;\r\n        }\r\n      }\r\n      \r\n      if (!quizForm.questionTimeLimit || quizForm.questionTimeLimit < 5) {\r\n        setError(`Question time limit must be at least 5 seconds`);\r\n        return;\r\n      }\r\n      const response = await api.post(\"/quizzes\", {\r\n        title: quizForm.title,\r\n        description: quizForm.description,\r\n        classId: quizForm.classId,\r\n        deadline: quizForm.deadline || null,\r\n        questionTimeLimit: quizForm.questionTimeLimit,\r\n        questions: quizForm.questions,\r\n      });\r\n      setShowCreateModal(false);\r\n      resetQuizForm();\r\n      fetchQuizzes();\r\n      alert(\"Quiz created successfully!\");\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Failed to create quiz\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteQuiz = async (quizId, quizTitle) => {\r\n    if (!window.confirm(`Are you sure you want to delete \"${quizTitle}\"?`)) {\r\n      return;\r\n    }\r\n    try {\r\n      await api.delete(`/quizzes/${quizId}`);\r\n      fetchQuizzes();\r\n      alert(\"Quiz deleted successfully!\");\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || \"Failed to delete quiz\");\r\n    }\r\n  };\r\n\r\n  const handleCopyQuiz = async () => {\r\n    if (!selectedQuiz || !targetClassId) return;\r\n    try {\r\n      await api.post(`/quizzes/${selectedQuiz.id}/copy`, { targetClassId });\r\n      setShowCopyModal(false);\r\n      setTargetClassId(\"\");\r\n      setSelectedQuiz(null);\r\n      fetchQuizzes();\r\n      alert(\"Quiz copied successfully!\");\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || \"Failed to copy quiz\");\r\n    }\r\n  };\r\n\r\n  // Quiz Activation/Deactivation Functions\r\n  const handleActivateQuiz = async (quizId) => {\r\n    try {\r\n      setActivatingQuiz(quizId);\r\n      await api.post(`/quizzes/${quizId}/activate`);\r\n      \r\n      // Update local state\r\n      setQuizzes(prev => prev.map(quiz => \r\n        quiz.id === quizId \r\n          ? { ...quiz, isLiveActive: true }\r\n          : quiz\r\n      ));\r\n      \r\n      console.log(`Quiz ${quizId} activated successfully`);\r\n    } catch (err) {\r\n      console.error('Failed to activate quiz:', err);\r\n      setError(err.response?.data?.message || 'Failed to activate quiz');\r\n    } finally {\r\n      setActivatingQuiz(null);\r\n    }\r\n  };\r\n\r\n  const handleDeactivateQuiz = async (quizId) => {\r\n    try {\r\n      setActivatingQuiz(quizId);\r\n      await api.post(`/quizzes/${quizId}/deactivate`);\r\n      \r\n      // Update local state\r\n      setQuizzes(prev => prev.map(quiz => \r\n        quiz.id === quizId \r\n          ? { ...quiz, isLiveActive: false }\r\n          : quiz\r\n      ));\r\n      \r\n      console.log(`Quiz ${quizId} deactivated successfully`);\r\n    } catch (err) {\r\n      console.error('Failed to deactivate quiz:', err);\r\n      setError(err.response?.data?.message || 'Failed to deactivate quiz');\r\n    } finally {\r\n      setActivatingQuiz(null);\r\n    }\r\n  };\r\n\r\n  const handleGenerateAI = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setAiGenerating(true);\r\n      setError(\"\");\r\n\r\n      if (!aiForm.topic.trim()) {\r\n        setError(\"Please enter a topic for AI generation\");\r\n        return;\r\n      }\r\n\r\n      const response = await api.post(\"/quizzes/generate-ai\", {\r\n        topic: aiForm.topic,\r\n        numQuestions: aiForm.numQuestions,\r\n        difficulty: aiForm.difficulty\r\n      });\r\n\r\n      // Add generated questions to the quiz form\r\n      setQuizForm({\r\n        ...quizForm,\r\n        questions: response.data.questions\r\n      });\r\n\r\n      setShowAIModal(false);\r\n      setShowCreateModal(true);\r\n      setAiForm({ topic: \"\", numQuestions: 5, difficulty: \"medium\" });\r\n      \r\n      alert(`Successfully generated ${response.data.questions.length} questions about \"${response.data.metadata.topic}\"!`);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Failed to generate AI questions\");\r\n    } finally {\r\n      setAiGenerating(false);\r\n    }\r\n  };\r\n\r\n  const addQuestion = () => {\r\n    setQuizForm({\r\n      ...quizForm,\r\n      questions: [\r\n        ...quizForm.questions,\r\n        {\r\n          questionText: \"\",\r\n          questionType: \"single_choice\",\r\n          points: 1,\r\n          options: [\r\n            { text: \"\", isCorrect: false },\r\n            { text: \"\", isCorrect: false },\r\n          ],\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  const removeQuestion = (questionIndex) => {\r\n    const newQuestions = quizForm.questions.filter(\r\n      (_, index) => index !== questionIndex\r\n    );\r\n    setQuizForm({ ...quizForm, questions: newQuestions });\r\n  };\r\n\r\n  const updateQuestion = (questionIndex, field, value) => {\r\n    const newQuestions = [...quizForm.questions];\r\n    newQuestions[questionIndex][field] = value;\r\n    setQuizForm({ ...quizForm, questions: newQuestions });\r\n  };\r\n\r\n  const addOption = (questionIndex) => {\r\n    const newQuestions = [...quizForm.questions];\r\n    newQuestions[questionIndex].options.push({ text: \"\", isCorrect: false });\r\n    setQuizForm({ ...quizForm, questions: newQuestions });\r\n  };\r\n\r\n  const removeOption = (questionIndex, optionIndex) => {\r\n    const newQuestions = [...quizForm.questions];\r\n    newQuestions[questionIndex].options = newQuestions[\r\n      questionIndex\r\n    ].options.filter((_, index) => index !== optionIndex);\r\n    setQuizForm({ ...quizForm, questions: newQuestions });\r\n  };\r\n\r\n  const updateOption = (questionIndex, optionIndex, field, value) => {\r\n    const newQuestions = [...quizForm.questions];\r\n    newQuestions[questionIndex].options[optionIndex][field] = value;\r\n    setQuizForm({ ...quizForm, questions: newQuestions });\r\n  };\r\n\r\n  const resetQuizForm = () => {\r\n    setQuizForm({\r\n      title: \"\",\r\n      description: \"\",\r\n      classId: \"\",\r\n      deadline: \"\",\r\n      questionTimeLimit: 30,\r\n      questions: [\r\n        {\r\n          questionText: \"\",\r\n          questionType: \"single_choice\",\r\n          points: 1,\r\n          options: [\r\n            { text: \"\", isCorrect: false },\r\n            { text: \"\", isCorrect: false },\r\n          ],\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return \"No deadline\";\r\n    return new Date(dateString).toLocaleString();\r\n  };\r\n\r\n  const getStatusBadge = (quiz) => {\r\n    const now = new Date();\r\n    const deadline = quiz.deadline ? new Date(quiz.deadline) : null;\r\n    if (deadline && now > deadline) {\r\n      return <span className=\"badge bg-danger\">Expired</span>;\r\n    }\r\n    return <span className=\"badge bg-success\">Active</span>;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container mt-4\">\r\n        <div className=\"d-flex justify-content-center\">\r\n          <div className=\"spinner-border text-primary\" role=\"status\">\r\n            <span className=\"visually-hidden\">Loading...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <h2>Quiz Management</h2>\r\n        <div>\r\n          <button\r\n            className=\"btn btn-info me-2\"\r\n            onClick={() => setShowAIModal(true)}\r\n            title=\"Generate quiz questions using AI\"\r\n          >\r\n            <i className=\"fas fa-robot me-2\"></i>\r\n            AI Generate\r\n          </button>\r\n          <button\r\n            className=\"btn btn-success me-2\"\r\n            onClick={() => setShowCreateModal(true)}\r\n          >\r\n            <i className=\"fas fa-plus me-2\"></i>\r\n            Create Quiz\r\n          </button>\r\n          <button className=\"btn btn-primary\" onClick={fetchQuizzes}>\r\n            <i className=\"fas fa-sync-alt me-2\"></i>\r\n            Refresh\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Class Filter */}\r\n      <div className=\"row mb-4\">\r\n        <div className=\"col-md-4\">\r\n          <select\r\n            className=\"form-select\"\r\n            value={selectedClassId}\r\n            onChange={(e) => setSelectedClassId(e.target.value)}\r\n          >\r\n            <option value=\"\">All Classes</option>\r\n            {classes.map((cls) => (\r\n              <option key={cls.id} value={cls.id}>\r\n                {cls.name} ({cls.class_code})\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div\r\n          className=\"alert alert-danger alert-dismissible fade show\"\r\n          role=\"alert\"\r\n        >\r\n          <i className=\"fas fa-exclamation-triangle me-2\"></i>\r\n          {error}\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn-close\"\r\n            onClick={() => setError(\"\")}\r\n          ></button>\r\n        </div>\r\n      )}\r\n\r\n      {quizzes.length === 0 ? (\r\n        <div className=\"alert alert-info\">\r\n          <i className=\"fas fa-info-circle me-2\"></i>\r\n          No quizzes found. Create your first quiz to get started!\r\n        </div>\r\n      ) : (\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            <h5 className=\"mb-0\">Your Quizzes ({quizzes.length})</h5>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Title</th>\r\n                    <th>Class</th>\r\n                    <th>Questions</th>\r\n                    <th>Submissions</th>\r\n                    <th>Deadline</th>\r\n                    <th>Status</th>\r\n                    <th>Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {quizzes.map((quiz) => (\r\n                    <tr key={quiz.id}>\r\n                      <td>\r\n                        <div className=\"fw-bold d-flex align-items-center\">\r\n                          {quiz.title}\r\n                          {/* COPY BUTTON */}\r\n                          <button\r\n                            className=\"btn btn-sm btn-outline-warning ms-2\"\r\n                            title=\"Copy Quiz\"\r\n                            onClick={() => {\r\n                              setSelectedQuiz(quiz);\r\n                              setShowCopyModal(true);\r\n                            }}\r\n                          >\r\n                            <i className=\"fas fa-copy me-1\"></i>\r\n                            Copy\r\n                          </button>\r\n                        </div>\r\n                        <small className=\"text-muted\">{quiz.description}</small>\r\n                      </td>\r\n                      <td>\r\n                        <span className=\"badge bg-light text-dark\">\r\n                          {quiz.class_name}\r\n                        </span>\r\n                      </td>\r\n                      <td>{quiz.question_count || 0}</td>\r\n                      <td>{quiz.submission_count || 0}</td>\r\n                      <td>{formatDate(quiz.deadline)}</td>\r\n                      <td>{getStatusBadge(quiz)}</td>\r\n                      <td>\r\n                        <div className=\"btn-group\" role=\"group\">\r\n                          {/* Quiz Activation/Deactivation Button */}\r\n                          {quiz.isLiveActive ? (\r\n                            <button\r\n                              className=\"btn btn-sm btn-warning\"\r\n                              onClick={() => handleDeactivateQuiz(quiz.id)}\r\n                              disabled={activatingQuiz === quiz.id}\r\n                              title=\"Deactivate Quiz - Students won't be able to attempt\"\r\n                            >\r\n                              {activatingQuiz === quiz.id ? (\r\n                                <span className=\"spinner-border spinner-border-sm me-1\"></span>\r\n                              ) : (\r\n                                <i className=\"fas fa-pause me-1\"></i>\r\n                              )}\r\n                              Deactivate\r\n                            </button>\r\n                          ) : (\r\n                            <button\r\n                              className=\"btn btn-sm btn-success\"\r\n                              onClick={() => handleActivateQuiz(quiz.id)}\r\n                              disabled={activatingQuiz === quiz.id}\r\n                              title=\"Activate Quiz - Students will be able to attempt\"\r\n                            >\r\n                              {activatingQuiz === quiz.id ? (\r\n                                <span className=\"spinner-border spinner-border-sm me-1\"></span>\r\n                              ) : (\r\n                                <i className=\"fas fa-play me-1\"></i>\r\n                              )}\r\n                              Activate\r\n                            </button>\r\n                          )}\r\n                          \r\n                          <a\r\n                            href={`/professor/quiz-results/${quiz.id}`}\r\n                            className=\"btn btn-sm btn-outline-primary\"\r\n                          >\r\n                            <i className=\"fas fa-chart-bar me-1\"></i>\r\n                            Results\r\n                          </a>\r\n                          <button\r\n                            className=\"btn btn-sm btn-outline-danger\"\r\n                            onClick={() =>\r\n                              handleDeleteQuiz(quiz.id, quiz.title)\r\n                            }\r\n                          >\r\n                            <i className=\"fas fa-trash me-1\"></i>\r\n                            Delete\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Create Quiz Modal */}\r\n      {showCreateModal && (\r\n        <div\r\n          className=\"modal fade show\"\r\n          style={{ display: \"block\", backgroundColor: \"rgba(0,0,0,0.5)\" }}\r\n        >\r\n          <div className=\"modal-dialog modal-lg\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Create New Quiz</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-close\"\r\n                  onClick={() => setShowCreateModal(false)}\r\n                ></button>\r\n              </div>\r\n              <form onSubmit={handleCreateQuiz}>\r\n                <div\r\n                  className=\"modal-body\"\r\n                  style={{ maxHeight: \"70vh\", overflowY: \"auto\" }}\r\n                >\r\n                  {/* Quiz Details */}\r\n                  <div className=\"mb-4\">\r\n                    <h6>Quiz Details</h6>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-6 mb-3\">\r\n                        <label className=\"form-label\">Title</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          value={quizForm.title}\r\n                          onChange={(e) =>\r\n                            setQuizForm({ ...quizForm, title: e.target.value })\r\n                          }\r\n                          required\r\n                          placeholder=\"Enter quiz title\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-6 mb-3\">\r\n                        <label className=\"form-label\">Class</label>\r\n                        <select\r\n                          className=\"form-select\"\r\n                          value={quizForm.classId}\r\n                          onChange={(e) =>\r\n                            setQuizForm({\r\n                              ...quizForm,\r\n                              classId: e.target.value,\r\n                            })\r\n                          }\r\n                          required\r\n                        >\r\n                          <option value=\"\">Select a class</option>\r\n                          {classes.map((cls) => (\r\n                            <option key={cls.id} value={cls.id}>\r\n                              {cls.name} ({cls.class_code})\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                      <div className=\"col-md-6 mb-3\">\r\n                        <label className=\"form-label\">\r\n                          Deadline (Optional)\r\n                        </label>\r\n                        <input\r\n                          type=\"datetime-local\"\r\n                          className=\"form-control\"\r\n                          value={quizForm.deadline}\r\n                          onChange={(e) =>\r\n                            setQuizForm({\r\n                              ...quizForm,\r\n                              deadline: e.target.value,\r\n                            })\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-6 mb-3\">\r\n                        <label className=\"form-label\">\r\n                          Question Time Limit (seconds)\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          className=\"form-control\"\r\n                          value={quizForm.questionTimeLimit}\r\n                          onChange={(e) => {\r\n                            const value = e.target.value;\r\n                            const numValue = value === '' ? 30 : parseInt(value);\r\n                            setQuizForm({\r\n                              ...quizForm,\r\n                              questionTimeLimit: isNaN(numValue) ? 30 : numValue,\r\n                            });\r\n                          }}\r\n                          min=\"5\"\r\n                          max=\"300\"\r\n                          placeholder=\"Time per question in seconds\"\r\n                        />\r\n                        <small className=\"text-muted\">\r\n                          This time limit will apply to ALL questions\r\n                        </small>\r\n                      </div>\r\n                      <div className=\"col-12 mb-3\">\r\n                        <label className=\"form-label\">Description</label>\r\n                        <textarea\r\n                          className=\"form-control\"\r\n                          rows=\"3\"\r\n                          value={quizForm.description}\r\n                          onChange={(e) =>\r\n                            setQuizForm({\r\n                              ...quizForm,\r\n                              description: e.target.value,\r\n                            })\r\n                          }\r\n                          placeholder=\"Enter quiz description (optional)\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Questions */}\r\n                  <div className=\"mb-4\">\r\n                    <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                      <h6>Questions</h6>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-sm btn-success\"\r\n                        onClick={addQuestion}\r\n                      >\r\n                        <i className=\"fas fa-plus me-1\"></i>\r\n                        Add Question\r\n                      </button>\r\n                    </div>\r\n\r\n                    {quizForm.questions.map((question, questionIndex) => (\r\n                      <div key={questionIndex} className=\"card mb-3\">\r\n                        <div className=\"card-header\">\r\n                          <div className=\"d-flex justify-content-between align-items-center\">\r\n                            <h6 className=\"mb-0\">\r\n                              Question {questionIndex + 1}\r\n                            </h6>\r\n                            {quizForm.questions.length > 1 && (\r\n                              <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-sm btn-outline-danger\"\r\n                                onClick={() => removeQuestion(questionIndex)}\r\n                              >\r\n                                <i className=\"fas fa-trash\"></i>\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                          <div className=\"row mb-3\">\r\n                            <div className=\"col-md-8\">\r\n                              <label className=\"form-label\">\r\n                                Question Text\r\n                              </label>\r\n                              <textarea\r\n                                className=\"form-control\"\r\n                                rows=\"2\"\r\n                                value={question.questionText}\r\n                                onChange={(e) =>\r\n                                  updateQuestion(\r\n                                    questionIndex,\r\n                                    \"questionText\",\r\n                                    e.target.value\r\n                                  )\r\n                                }\r\n                                required\r\n                                placeholder=\"Enter your question\"\r\n                              />\r\n                            </div>\r\n                            <div className=\"col-md-4\">\r\n                              <label className=\"form-label\">Points</label>\r\n                              <input\r\n                                type=\"number\"\r\n                                className=\"form-control\"\r\n                                value={question.points}\r\n                                onChange={(e) =>\r\n                                  updateQuestion(\r\n                                    questionIndex,\r\n                                    \"points\",\r\n                                    parseInt(e.target.value)\r\n                                  )\r\n                                }\r\n                                min=\"1\"\r\n                                max=\"10\"\r\n                              />\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"mb-3\">\r\n                            <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                              <label className=\"form-label\">\r\n                                Answer Options\r\n                              </label>\r\n                              <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-sm btn-outline-success\"\r\n                                onClick={() => addOption(questionIndex)}\r\n                              >\r\n                                <i className=\"fas fa-plus me-1\"></i>\r\n                                Add Option\r\n                              </button>\r\n                            </div>\r\n\r\n                            {question.options.map((option, optionIndex) => (\r\n                              <div\r\n                                key={optionIndex}\r\n                                className=\"input-group mb-2\"\r\n                              >\r\n                                <div className=\"input-group-text\">\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    checked={option.isCorrect}\r\n                                    onChange={(e) =>\r\n                                      updateOption(\r\n                                        questionIndex,\r\n                                        optionIndex,\r\n                                        \"isCorrect\",\r\n                                        e.target.checked\r\n                                      )\r\n                                    }\r\n                                    title=\"Mark as correct answer\"\r\n                                  />\r\n                                </div>\r\n                                <input\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  value={option.text}\r\n                                  onChange={(e) =>\r\n                                    updateOption(\r\n                                      questionIndex,\r\n                                      optionIndex,\r\n                                      \"text\",\r\n                                      e.target.value\r\n                                    )\r\n                                  }\r\n                                  placeholder={`Option ${optionIndex + 1}`}\r\n                                  required\r\n                                />\r\n                                {question.options.length > 2 && (\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-outline-danger\"\r\n                                    onClick={() =>\r\n                                      removeOption(questionIndex, optionIndex)\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fas fa-trash\"></i>\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-secondary\"\r\n                    onClick={() => setShowCreateModal(false)}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button type=\"submit\" className=\"btn btn-primary\">\r\n                    Create Quiz\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Copy Quiz Modal */}\r\n      {showCopyModal && selectedQuiz && (\r\n        <div\r\n          className=\"modal fade show\"\r\n          style={{ display: \"block\", backgroundColor: \"rgba(0,0,0,0.5)\" }}\r\n        >\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">\r\n                  Copy Quiz - {selectedQuiz.title}\r\n                </h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-close\"\r\n                  onClick={() => setShowCopyModal(false)}\r\n                ></button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <label>Select target class:</label>\r\n                <select\r\n                  className=\"form-select\"\r\n                  value={targetClassId}\r\n                  onChange={(e) => setTargetClassId(e.target.value)}\r\n                >\r\n                  <option value=\"\">Select a class</option>\r\n                  {classes.map((cls) => (\r\n                    <option key={cls.id} value={cls.id}>\r\n                      {cls.name} ({cls.class_code})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => setShowCopyModal(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  onClick={handleCopyQuiz}\r\n                  disabled={!targetClassId}\r\n                >\r\n                  Copy Quiz\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* AI Generation Modal */}\r\n      {showAIModal && (\r\n        <div\r\n          className=\"modal fade show\"\r\n          style={{ display: \"block\", backgroundColor: \"rgba(0,0,0,0.5)\" }}\r\n        >\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">\r\n                  <i className=\"fas fa-robot me-2\"></i>\r\n                  AI Quiz Generation\r\n                </h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-close\"\r\n                  onClick={() => setShowAIModal(false)}\r\n                ></button>\r\n              </div>\r\n              <form onSubmit={handleGenerateAI}>\r\n                <div className=\"modal-body\">\r\n                  <div className=\"alert alert-info\">\r\n                    <i className=\"fas fa-info-circle me-2\"></i>\r\n                    <strong>AI Quiz Generator:</strong> Enter a topic and let AI create quiz questions for you automatically!\r\n                  </div>\r\n\r\n                  <div className=\"mb-3\">\r\n                    <label className=\"form-label\">\r\n                      <i className=\"fas fa-lightbulb me-2\"></i>\r\n                      Topic\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      value={aiForm.topic}\r\n                      onChange={(e) =>\r\n                        setAiForm({ ...aiForm, topic: e.target.value })\r\n                      }\r\n                      placeholder=\"e.g., JavaScript fundamentals, World History, Biology...\"\r\n                      required\r\n                    />\r\n                    <small className=\"text-muted\">\r\n                      Be specific for better results (e.g., \"React Hooks\" instead of just \"React\")\r\n                    </small>\r\n                  </div>\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6 mb-3\">\r\n                      <label className=\"form-label\">\r\n                        <i className=\"fas fa-list-ol me-2\"></i>\r\n                        Number of Questions\r\n                      </label>\r\n                      <select\r\n                        className=\"form-select\"\r\n                        value={aiForm.numQuestions}\r\n                        onChange={(e) =>\r\n                          setAiForm({\r\n                            ...aiForm,\r\n                            numQuestions: parseInt(e.target.value),\r\n                          })\r\n                        }\r\n                      >\r\n                        <option value={3}>3 Questions</option>\r\n                        <option value={5}>5 Questions</option>\r\n                        <option value={10}>10 Questions</option>\r\n                        <option value={15}>15 Questions</option>\r\n                        <option value={20}>20 Questions</option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-6 mb-3\">\r\n                      <label className=\"form-label\">\r\n                        <i className=\"fas fa-chart-line me-2\"></i>\r\n                        Difficulty Level\r\n                      </label>\r\n                      <select\r\n                        className=\"form-select\"\r\n                        value={aiForm.difficulty}\r\n                        onChange={(e) =>\r\n                          setAiForm({ ...aiForm, difficulty: e.target.value })\r\n                        }\r\n                      >\r\n                        <option value=\"easy\">Easy</option>\r\n                        <option value=\"medium\">Medium</option>\r\n                        <option value=\"hard\">Hard</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"alert alert-warning\">\r\n                    <i className=\"fas fa-exclamation-triangle me-2\"></i>\r\n                    <strong>Note:</strong> AI-generated questions will replace any existing questions in your quiz form. Review and edit them before saving.\r\n                  </div>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-secondary\"\r\n                    onClick={() => setShowAIModal(false)}\r\n                    disabled={aiGenerating}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-info\"\r\n                    disabled={aiGenerating || !aiForm.topic.trim()}\r\n                  >\r\n                    {aiGenerating ? (\r\n                      <>\r\n                        <span className=\"spinner-border spinner-border-sm me-2\"></span>\r\n                        Generating...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <i className=\"fas fa-magic me-2\"></i>\r\n                        Generate Questions\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuizManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}